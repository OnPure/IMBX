(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{145:function(e,t,a){e.exports=a(340)},158:function(e,t,a){},204:function(e,t,a){},209:function(e,t,a){},220:function(e,t,a){},225:function(e,t,a){},227:function(e,t,a){},262:function(e,t,a){},264:function(e,t,a){},273:function(e,t,a){},336:function(e,t,a){},338:function(e,t,a){},340:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"reducer",function(){return ae});var s=a(0),i=a.n(s),r=a(10),c=a.n(r),o=(a(150),a(12)),l=a(13),m=a(15),u=a(14),p=a(16),d=a(343),h=a(218),g=(a(57),a(32)),f=a(4),y=a(18),b=function(e){return{type:"Current_Music",value:e}},v=function(e){return{type:"Update_Recomend",value:e}},E=a(160),S=(a(158),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).login_onPhone=a.login_onPhone.bind(Object(f.a)(Object(f.a)(a))),a.login_onEmail=a.login_onEmail.bind(Object(f.a)(Object(f.a)(a))),a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"login_onPhone",value:function(){this.props.getLoginType(0)}},{key:"login_onEmail",value:function(){this.props.getLoginType(1)}},{key:"render",value:function(){return i.a.createElement("div",{className:"login"},i.a.createElement("div",{className:"login_avator"}),i.a.createElement(E.a,{to:{pathname:"/loginDetails",search:"?loginType=0"}},i.a.createElement(g.a,{className:"login_onPhone",onClick:this.login_onPhone},"\u624b\u673a\u53f7\u767b\u5f55")),i.a.createElement(E.a,{to:{pathname:"/loginDetails",search:"?loginType=1"}},i.a.createElement(g.a,{className:"login_onEmail",onClick:this.login_onEmail},"\u90ae\u7bb1\u767b\u5f55")))}}]),t}(s.Component)),N=Object(y.b)(null,function(e){return{getLoginType:function(t){e(function(e){return{type:"Login_Type",value:e}}(t))}}})(S),j=(a(204),function(e){function t(e){return Object(o.a)(this,t),Object(m.a)(this,Object(u.a)(t).call(this,e))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,"\u767b\u5f55\u6210\u529f")}}]),t}(s.Component)),O=(a(206),a(103)),T=a(342),I=(a(209),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).changeTabs=a.changeTabs.bind(Object(f.a)(Object(f.a)(a))),a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"changeTabs",value:function(e){console.log("key",e)}},{key:"render",value:function(){var e=O.a.TabPane;return i.a.createElement("div",{className:"find"},i.a.createElement("div",{className:"findTabs"},i.a.createElement(O.a,{defaultActiveKey:"1",onChange:this.changeTabs},i.a.createElement(e,{tab:"\u4e2a\u6027\u63a8\u8350",key:"1"},i.a.createElement("ul",{className:"mainList"},i.a.createElement(T.a,{exact:!0,to:"/srFM"},i.a.createElement("li",null,i.a.createElement("div",{className:"icoWrapper"},i.a.createElement("i",{className:"iconfont ico"},"\ue60c")),i.a.createElement("h3",{className:"tag_name"},"\u79c1\u4ebaFM"))),i.a.createElement(T.a,{exact:!0,to:"/mrtj",onClick:this.props.handleSrFM},i.a.createElement("li",{onClick:this.props.getRecommendResource("\u6bcf\u65e5\u63a8\u8350")},i.a.createElement("div",{className:"icoWrapper"},i.a.createElement("i",{className:"iconfont ico"},"\ue60c")),i.a.createElement("h3",{className:"tag_name"},"\u6bcf\u65e5\u63a8\u8350"))),i.a.createElement(T.a,{exact:!0,to:"/gd",onClick:this.props.handleSrFM},i.a.createElement("li",null,i.a.createElement("div",{className:"icoWrapper"},i.a.createElement("i",{className:"iconfont ico"},"\ue60c")),i.a.createElement("h3",{className:"tag_name"},"\u6b4c\u5355"))),i.a.createElement(T.a,{exact:!0,to:"/phb",onClick:this.props.handleSrFM},i.a.createElement("li",null,i.a.createElement("div",{className:"icoWrapper"},i.a.createElement("i",{className:"iconfont ico"},"\ue60c")),i.a.createElement("h3",{className:"tag_name"},"\u6392\u884c\u699c"))))),i.a.createElement(e,{tab:"\u4e3b\u64ad\u7535\u53f0",key:"2"}))))}}]),t}(s.Component)),k=Object(y.b)(null,function(e){return{getRecommendResource:function(t){e(function(e){return{type:"Recommend_Resource",value:e}}(t))}}})(I),L=(a(220),function(e){function t(e){return Object(o.a)(this,t),Object(m.a)(this,Object(u.a)(t).call(this,e))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement(T.a,{exact:!0,to:"/player"},i.a.createElement("li",{className:"singleMusic","data-key":this.props.dataKey,onClick:this.props.getSongIndex},i.a.createElement("img",{src:this.props.info.album.picUrl?this.props.info.album.picUrl:null,alt:""}),i.a.createElement("div",{className:"singleMusic_trumpet iconfont",style:{display:this.props.info.id===this.props.recommendSongsList[this.props.recommendSongIndex]?"block":"none"}},"\ue60c"),i.a.createElement("div",{className:"singleMusic_info"},i.a.createElement("div",{className:"music_name"},this.props.info.name?this.props.info.name:null,i.a.createElement("span",{className:"music_alias"},this.props.info.alias[0]?"("+this.props.info.alias[0]+")":null)),i.a.createElement("div",{className:"music_author"},this.props.info.artists[0].name?this.props.info.artists[0].name:null,i.a.createElement("span",{className:"line"},"-"),this.props.info.album.name?this.props.info.album.name:null)),i.a.createElement("div",{className:"singleMusic_video iconfont"},"\ue60c"),i.a.createElement("div",{className:"singleMusic_more iconfont",onClick:this.props.readMore},"\ue60c")))}}]),t}(s.Component));L.defaultProps={recommendList:[{id:2578068117,type:1,name:"2018\u5e74\u5ea6\u6700\u70ed\u65b0\u6b4cTOP100",copywriter:"\u6839\u636e\u4f60\u6536\u85cf\u7684\u5355\u66f2\u300a\u7ed9\u964c\u751f\u7684\u4f60\u542c \u300b\u63a8\u8350",picUrl:"https://p2.music.126.net/6Dnpnv9pi30ix2LuoNU1IQ==/109951163755515426.jpg",playcount:33638884,createTime:1546078909526,creator:{avatarImgId:0x50c000013a800,backgroundImgId:0x71d000000006a,detailDescription:"\u7f51\u6613\u4e91\u97f3\u4e50\u5b98\u65b9\u8d26\u53f7",defaultAvatar:!1,expertTags:null,djStatus:10,mutual:!1,remarkName:null,backgroundUrl:"http://p1.music.126.net/pmHS4fcQtcNEGewNb5HRhg==/2002210674180202.jpg",backgroundImgIdStr:0x71d000000006a,avatarImgIdStr:0x50c000013a800,accountStatus:0,userId:1,vipType:11,province:11e4,gender:1,nickname:"\u7f51\u6613\u4e91\u97f3\u4e50",birthday:-22090176e5,city:110101,followed:!1,avatarUrl:"https://p2.music.126.net/QWMV-Ru_6149AKe0mCBXKg==/1420569024374784.jpg",authStatus:1,userType:2,description:"\u7f51\u6613\u4e91\u97f3\u4e50\u5b98\u65b9\u8d26\u53f7",signature:"\u7f51\u6613\u4e91\u97f3\u4e50\u662f6\u4ebf\u4eba\u90fd\u5728\u4f7f\u7528\u7684\u97f3\u4e50\u5e73\u53f0\uff0c\u81f4\u529b\u4e8e\u5e2e\u52a9\u7528\u6237\u53d1\u73b0\u97f3\u4e50\u60ca\u559c\uff0c\u5e2e\u52a9\u97f3\u4e50\u4eba\u5b9e\u73b0\u68a6\u60f3\u3002\u5ba2\u670d\u5728\u7ebf\u65f6\u95f4\uff1a9\uff1a00 - 24\uff1a00\uff0c\u5982\u60a8\u5728\u4f7f\u7528\u8fc7\u7a0b\u4e2d\u9047\u5230\u4efb\u4f55\u95ee\u9898\uff0c\u6b22\u8fce\u79c1\u4fe1\u54a8\u8be2@\u4e91\u97f3\u4e50\u5ba2\u670d \uff0c\u6211\u4eec\u4f1a\u5c3d\u5feb\u56de\u590d\u3002\u5982\u679c\u4ecd\u7136\u4e0d\u80fd\u89e3\u51b3\u60a8\u7684\u95ee\u9898\uff0c\u8bf7\u90ae\u4ef6\u6211\u4eec\uff1a\u7528\u6237\uff1ancm5990@163.com\u97f3\u4e50\u4eba\uff1ayyr599@163.com",authority:3},trackCount:100,userId:1,alg:"bysong_rt"},{id:2438292020,type:1,name:"\u542c\u8bf4\u4f60\u4e5f\u5728\u627e\u597d\u542c\u7684\u534e\u8bed\u6b4c",copywriter:"\u6839\u636e\u4f60\u6536\u85cf\u7684\u5355\u66f2\u300a\u7ed9\u964c\u751f\u7684\u4f60\u542c \u300b\u63a8\u8350",picUrl:"https://p2.music.126.net/Fs0DjAvcAAyAZa1dgXzFfQ==/109951163571833739.jpg",playcount:42886856,createTime:1537977067262,creator:{avatarImgId:0x186a00025a60130,backgroundImgId:0x43320000086878,detailDescription:"",defaultAvatar:!1,expertTags:["\u534e\u8bed","\u6d41\u884c","\u6b27\u7f8e"],djStatus:0,mutual:!1,remarkName:null,backgroundUrl:"http://p1.music.126.net/TUoyq4dzypO4qCnFwh1TYw==/18913799021553784.jpg",backgroundImgIdStr:0x43320000086878,avatarImgIdStr:"109951163409236269",accountStatus:0,userId:493707309,vipType:0,province:11e4,gender:1,nickname:"\u9e7f\u767d\u5ddd",birthday:756694371293,city:110101,followed:!1,avatarUrl:"https://p2.music.126.net/j2tHprJZi2zGfX5jBCuvwA==/109951163409236269.jpg",authStatus:0,userType:200,description:"",signature:"\u8bdd\u5c11\u6162\u70ed\u4e0d\u559c\u4ea4\u9645 / \u4e0d\u63a8\u5e7f \u52ff\u6270",authority:0},trackCount:110,userId:493707309,alg:"bysong_rt"}],recommendSongsList:[{name:"\u53ef\u4e0d\u53ef\u4ee5",id:553755659,position:1,alias:[],status:0,fee:8,copyrightId:687012,disc:"",no:1,artists:[{name:"\u5f20\u7d2b\u8c6a",id:13906123,picId:0,img1v1Id:0,briefDesc:"",picUrl:"http://p2.music.126.net/6y-UleORITEDbvrOLV0Q8A==/5639395138885805.jpg",img1v1Url:"http://p2.music.126.net/6y-UleORITEDbvrOLV0Q8A==/5639395138885805.jpg",albumSize:0,alias:[],trans:"",musicSize:0}],album:{name:"\u53ef\u4e0d\u53ef\u4ee5",id:38385235,type:"\u4e13\u8f91",size:2,picId:0x186a0001c53b290,blurPicUrl:"http://p2.music.126.net/WafK2OQfEtqXitdDXJ772Q==/109951163252847249.jpg",companyId:0,pic:0x186a0001c53b290,picUrl:"http://p2.music.126.net/WafK2OQfEtqXitdDXJ772Q==/109951163252847249.jpg",publishTime:1535644800007,description:"",tags:"",company:"\u606c\u97f3\u6587\u5316",briefDesc:"",artist:{name:"",id:0,picId:0,img1v1Id:0,briefDesc:"",picUrl:"http://p2.music.126.net/6y-UleORITEDbvrOLV0Q8A==/5639395138885805.jpg",img1v1Url:"http://p2.music.126.net/6y-UleORITEDbvrOLV0Q8A==/5639395138885805.jpg",albumSize:0,alias:[],trans:"",musicSize:0},songs:[],alias:[],status:0,copyrightId:687012,commentThreadId:"R_AL_3_38385235",artists:[{name:"\u5f20\u7d2b\u8c6a",id:13906123,picId:0,img1v1Id:0,briefDesc:"",picUrl:"http://p2.music.126.net/6y-UleORITEDbvrOLV0Q8A==/5639395138885805.jpg",img1v1Url:"http://p2.music.126.net/6y-UleORITEDbvrOLV0Q8A==/5639395138885805.jpg",albumSize:0,alias:[],trans:"",musicSize:0}],subType:"\u5f55\u97f3\u5ba4\u7248",transName:null,picId_str:"109951163252847249"},starred:!1,popularity:100,score:100,starredNum:0,duration:240889,playedNum:0,dayPlays:0,hearTime:0,ringtone:null,crbt:null,audition:null,copyFrom:"",commentThreadId:"R_SO_4_553755659",rtUrl:null,ftype:0,rtUrls:[],copyright:2,transName:null,sign:null,rtype:0,rurl:null,mvid:0,bMusic:{name:null,id:1455202018,size:3855299,extension:"mp3",sr:44100,dfsId:0,bitrate:128e3,playTime:240889,volumeDelta:-28100},mp3Url:null,hMusic:{name:null,id:1455202016,size:9638182,extension:"mp3",sr:44100,dfsId:0,bitrate:32e4,playTime:240889,volumeDelta:-32500},mMusic:{name:null,id:1455202017,size:5782927,extension:"mp3",sr:44100,dfsId:0,bitrate:192e3,playTime:240889,volumeDelta:-29900},lMusic:{name:null,id:1455202018,size:3855299,extension:"mp3",sr:44100,dfsId:0,bitrate:128e3,playTime:240889,volumeDelta:-28100},reason:"\u6839\u636e\u4f60\u53ef\u80fd\u559c\u6b22\u7684\u5355\u66f2 \u7ed9\u964c\u751f\u7684\u4f60\u542c ",privilege:{id:553755659,fee:8,payed:0,st:0,pl:128e3,dl:0,sp:7,cp:1,subp:1,cs:!1,maxbr:999e3,fl:128e3,toast:!1,flag:0,preSell:!1},alg:"rt_itembased"}]};var x=Object(y.b)(function(e){return{recommendSongsList:e.reducer.recommendSongsList,recommendSongIndex:e.reducer.recommendSongIndex}},function(e){return{}})(L),w=(a(222),a(142)),M=(a(225),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).showDrawer=function(e,t,n){a.setState({visible:!0,songsName:e,singerName:t,alnum:n})},a.onClose=function(){a.setState({visible:!1})},a.showDrawer=a.showDrawer.bind(Object(f.a)(Object(f.a)(a))),a.onClose=a.onClose.bind(Object(f.a)(Object(f.a)(a))),a.state={visible:!1,songsName:"",singerName:"",alnum:""},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"drawBox"},i.a.createElement(w.a,{title:this.state.songsName?"\u6b4c\u66f2\uff1a"+this.state.songsName:null,placement:"bottom",closable:!1,onClose:this.onClose,visible:this.state.visible},i.a.createElement("ul",{className:"feature_list"},i.a.createElement("li",null,i.a.createElement("i",{className:"iconfont"},"\ue60c"),"\u4e0b\u4e00\u9996\u64ad\u653e"),i.a.createElement("li",null,i.a.createElement("i",{className:"iconfont"},"\ue60c"),"\u6536\u85cf\u5230\u6b4c\u5355"),i.a.createElement("li",null,i.a.createElement("i",{className:"iconfont"},"\ue60c"),"\u4e0b\u8f7d"),i.a.createElement("li",null,i.a.createElement("i",{className:"iconfont"},"\ue60c"),"\u8bc4\u8bba"),i.a.createElement("li",null,i.a.createElement("i",{className:"iconfont"},"\ue60c"),"\u5206\u4eab"),i.a.createElement("li",null,i.a.createElement("i",{className:"iconfont"},"\ue60c"),"\u6b4c\u624b\uff1a",this.state.singerName),i.a.createElement("li",null,i.a.createElement("i",{className:"iconfont"},"\ue60c"),"\u4e13\u8f91\uff1a",this.state.album),i.a.createElement("li",null,i.a.createElement("i",{className:"iconfont"},"\ue60c"),"\u67e5\u770b\u89c6\u9891"),i.a.createElement("li",null,i.a.createElement("i",{className:"iconfont"},"\ue60c"),"\u4e0d\u611f\u5174\u8da3"))))}}]),t}(s.Component)),_=(a(227),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).moreDetails=a.moreDetails.bind(Object(f.a)(Object(f.a)(a))),a.getSongIndex=a.getSongIndex.bind(Object(f.a)(Object(f.a)(a))),a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){}},{key:"getSongIndex",value:function(e){var t=e.currentTarget.getAttribute("data-key");this.props.getRecommendSongIndex(t)}},{key:"moreDetails",value:function(e){e.preventDefault(),e.stopPropagation();var t=e.target.parentNode.getAttribute("data-key");this.refs.drawBox.showDrawer(this.props.recommendSongsList[t].name,this.props.recommendSongsList[t].artists[0].name,this.props.recommendSongsList[t].album.name)}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"mrtj"},i.a.createElement("div",{className:"header"},i.a.createElement(E.a,{to:"/find"},i.a.createElement("i",{className:"iconfont icon"},"\ue611")),i.a.createElement("div",{className:"header-name"},this.props.headerName)),i.a.createElement("ul",{className:"musicList"},this.props.recommendSongsList?this.props.recommendSongsList.map(function(t,a){return i.a.createElement(x,{info:t,key:t.id,dataKey:a,getSongIndex:e.getSongIndex,readMore:e.moreDetails})}):null),i.a.createElement(M,{ref:"drawBox"}))}}]),t}(s.Component)),C=Object(y.b)(function(e){return{headerName:e.reducer.headerName,recommendSongsList:e.reducer.recommendSongsList,recommendSongIndex:e.reducer.recommendSongIndex}},function(e){return{getRecommendSongIndex:function(t){e(b(t))}}})(_),U=(a(229),a(75)),D=a(344),P=a(29),R=a.n(P),A="http://localhost:3000/";function B(e){R.a.defaults.baseURL=A;var t="/song/url?id=".concat(e);return R.a.get(t)}var z=a(135),Q=a.n(z),F=(a(261),a(262),function(e){function t(e){var a;return Object(o.a)(this,t),a=Object(m.a)(this,Object(u.a)(t).call(this,e)),console.log("props",a.props),a.state={songUrl:null,totalTime:0,currentTime:0,remainTime:0,playPer:0,bufferPer:0,angle:0,currentMusic:{},isPlayed:!1,playedLeft:0,volumeLeft:0,quitVolume:!1,musicListShow:!1,mouseDown:!1,isMusicListShow:!1},a.playLast=a.playLast.bind(Object(f.a)(Object(f.a)(a))),a.play=a.play.bind(Object(f.a)(Object(f.a)(a))),a.playNext=a.playNext.bind(Object(f.a)(Object(f.a)(a))),a.mouseDown=a.mouseDown.bind(Object(f.a)(Object(f.a)(a))),a.mouseUp=a.mouseUp.bind(Object(f.a)(Object(f.a)(a))),a.clickChangeTime=a.clickChangeTime.bind(Object(f.a)(Object(f.a)(a))),a.progressChangeTime=a.progressChangeTime.bind(Object(f.a)(Object(f.a)(a))),a.mouseLeave=a.mouseLeave.bind(Object(f.a)(Object(f.a)(a))),a.showMusicList=a.showMusicList.bind(Object(f.a)(Object(f.a)(a))),a.closeDrawer=a.closeDrawer.bind(Object(f.a)(Object(f.a)(a))),a.musicDemand=a.musicDemand.bind(Object(f.a)(Object(f.a)(a))),a.wipeOffCur=a.wipeOffCur.bind(Object(f.a)(Object(f.a)(a))),a.stopM=a.stopM.bind(Object(f.a)(Object(f.a)(a))),a.playProgress=a.playProgress.bind(Object(f.a)(Object(f.a)(a))),a.renderPlayType=a.renderPlayType.bind(Object(f.a)(Object(f.a)(a))),a.playType=a.playType.bind(Object(f.a)(Object(f.a)(a))),a.randomPlay=a.randomPlay.bind(Object(f.a)(Object(f.a)(a))),a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.refs.audio;null!==this.props.recommendSongIndex?this.setState({currentMusic:this.props.recommendSongsList[this.props.recommendSongIndex]},function(){B(e.state.currentMusic.id).then(function(t){var a=t.data.data[0].url;e.setState({songUrl:a})}).then(function(){e.props.getAudio(e.refs.audio,e.refs.played,e.refs.buffered)}).then(function(){e.play()})}):this.setState({currentMusic:this.props.recommendSongsList[0]},function(){e.props.getSongUrl(e.state.currentMusic.id).then(function(){e.setState({songUrl:e.props.songUrl})}).then(function(){e.play()})}),t.addEventListener("canplay",function(){var t=parseInt(e.refs.audio.duration);e.setState({totalTime:e.formatTime(t),remainTime:e.formatTime(t),currentTime:e.formatTime(0),playedLeft:e.refs.played.getBoundingClientRect().left})}),t.volume=.5}},{key:"renderPlayType",value:function(){return 0===parseInt(this.props.playType)?i.a.createElement("a",{href:"javascript:;",className:"iconfont btnType",onClick:this.playType(0)},"\ue619"):1===parseInt(this.props.playType)?i.a.createElement("a",{href:"javascript:;",className:"iconfont btnType",onClick:this.playType(1)},"\ue619"):2===parseInt(this.props.playType)?i.a.createElement("a",{href:"javascript:;",className:"iconfont btnType",onClick:this.playType(2)},"\ue600"):void 0}},{key:"stopM",value:function(){this.refs.audio}},{key:"playType",value:function(e){switch(e){case 0:U.a.info("\u5355\u66f2\u5faa\u73af"),this.props.updatePlayNext(e);break;case 1:U.a.info("\u5217\u8868\u5faa\u73af"),this.props.updatePlayNext(e);break;case 2:U.a.info("\u968f\u673a\u64ad\u653e"),this.props.updatePlayNext(e)}}},{key:"randomPlay",value:function(e){var t=this;this.setState({currentMusic:this.props.recommendSongsList[e]},function(){B(t.state.currentMusic.id).then(function(a){var n=a.data.data[0].url;t.setState({songUrl:n}),t.props.updateRecommendSongIndex(e)}).then(function(){t.play()})})}},{key:"playLast",value:function(){var e=this;this.setState({angle:0}),this.state.songUrl&&(this.props.recommendSongIndex>0?this.setState({currentMusic:this.props.recommendSongsList[this.props.recommendSongIndex-1]},function(){B(e.state.currentMusic.id).then(function(t){var a=t.data.data[0].url;e.setState({songUrl:a}),e.props.updateRecommendSongIndex(e.props.recommendSongIndex-1)}).then(function(){e.play()})}):this.setState({currentMusic:this.props.recommendSongsList[this.props.recommendSongsList.length-1]},function(){B(e.state.currentMusic.id).then(function(t){var a=t.data.data[0].url;e.setState({songUrl:a}),e.props.updateRecommonSongIndex(e.props.recommendSongsList.length-1)}).then(function(){e.play()})}))}},{key:"play",value:function(){var e=this.refs.audio;e.paused&&this.state.songUrl?(e.play(),this.setState({isPlayed:!0},function(){})):(e.pause(),this.setState({isPlayed:!1},function(){})),e.addEventListener("timeupdate",this.playProgress)}},{key:"playProgress",value:function(){var e=this.refs.audio,t=e.currentTime/e.duration;this.refs.played.style.width=100*t+"%";var a=0,n=e.buffered;n.length&&(a=n.end(n.length-1));var s=a/e.duration;this.refs.buffered.style.width=100*s+"%";var i=parseInt(e.duration-e.currentTime),r=parseInt(e.currentTime);if(this.setState({remainTime:this.formatTime(i),currentTime:this.formatTime(r)}),e.ended&&1===this.props.playType){switch(this.props.playType){case 0:this.play();break;case 1:this.playNext();case 2:var c=this.props.recommendSongsList.length-1,o=parseInt(Math.random()*c);o===this.props.recommendSongIndex&&this.props.recommendSongIndex!=c&&(o+=1),this.randomPlay(),this.updatePlayNext(2);default:this.playNext()}this.playNext()}}},{key:"playNext",value:function(){var e=this;this.setState({angle:0}),this.state.songUrl&&(this.props.recommendSongIndex<this.props.recommendSongsList.length-1?this.setState({currentMusic:this.props.recommendSongsList[this.props.recommendSongIndex+1]},function(){B(e.state.currentMusic.id).then(function(t){var a=t.data.data[0].url;e.setState({songUrl:a}),e.props.updateRecommonSongIndex(e.props.recommendSongIndex+1)}).then(function(){e.play()})}):this.setState({currentMusic:this.props.recommendSongsList[0]},function(){B(e.state.currentMusic.id).then(function(t){var a=t.data.data[0].url;e.setState({songUrl:a}),e.props.updateRecommonSongIndex(0)}).then(function(){e.play()})}))}},{key:"mouseUp",value:function(){this.setState({mouseDown:!1})}},{key:"mouseDown",value:function(){this.setState({mouseDown:!0})}},{key:"mouseLeave",value:function(){this.setState({mouseDown:!1})}},{key:"clickChangeTime",value:function(e){e.pageX&&this.setTimeOnPc(e)}},{key:"progressChangeTime",value:function(e){this.state.mouseDown&&this.setTimeOnPc(e)}},{key:"showMusicList",value:function(){this.setState({isMusicListShow:!this.state.isMusicListShow})}},{key:"closeDrawer",value:function(){this.setState({isMusicListShow:!this.state.isMusicListShow})}},{key:"musicDemand",value:function(e){var t=this,a=e.currentTarget.getAttribute("data-key");this.props.recommendSongIndex!==a&&this.setState({currentMusic:this.props.recommendSongsList[a]},function(){B(t.state.currentMusic.id).then(function(e){var n=e.data.data[0].url;t.setState({songUrl:n}),t.props.updateRecommendSongIndex(a)}).then(function(){t.play()})})}},{key:"wipeOffCur",value:function(e){var t=this;e.preventDefault(),e.stopPropagation();var a=e.target.parentNode.getAttribute("data-key");(console.log(a,this.props.recommendSongsList.length),0===a&&1===this.props.recommendSongsList.length)?(this.refs.audio.removeEventListener("timeupdate",this.playProgress),this.props.history.push("/mrtj")):a===this.props.recommendSongIndex?a<this.props.recommendSongsList.length-1?this.setState({currentMusic:this.props.recommendSongsList[parseInt(a)+1]},function(){B(t.state.currentMusic.id).then(function(e){var n=e.data.data[0].url;t.setState({songUrl:n}),t.props.updateRecommendSongIndex(parseInt(a)+1),t.props.recommendSongsList.splice(a,1),v(t.props.recommendSongsList)})}):this.setState({currentMusic:this.props.recommendSongsList[0]},function(){B(t.state.currentMusic.id).then(function(e){var a=e.data.data[0].url;t.setState({songUrl:a}),t.props.updateRecommendSongIndex(0)}).then(function(){t.play()})}):a<this.props.recommendSongIndex?(this.props.recommendSongsList.splice(a,1),v(this.props.recommendSongsList),this.setState({currentMusic:this.props.recommendSongsList[this.props.recommendSongIndex-1]},function(){B(t.state.currentMusic.id).then(function(e){var a=e.data.data[0].url;t.setState({songUrl:a}),t.props.updateRecommendSongIndex(t.props.recommendSongIndex-1),t.refs.audio.play()}).then(function(){t.play()}).then(function(){t.play()})})):(this.props.recommendSongsList.splice(a,1),v(this.props.recommendSongsList))}},{key:"formatTime",value:function(e){return e?e=e<60?"00:".concat(e<10?"0".concat(e):e):"".concat(parseInt(e/60)<10?"0".concat(parseInt(e/60)):parseInt(e/60),":").concat(e%60<10?"0".concat(e%60):parseInt(e%60)):"00:00"}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"reactMusicPlayer",id:"reactMusicPlayer"},i.a.createElement("div",{className:"header"},i.a.createElement(E.a,{to:"/mrtj"},i.a.createElement("i",{className:"iconfont icon",onClick:this.stopM},"\ue611")),i.a.createElement("div",{className:"header_name"},i.a.createElement("div",{className:"music_name"},this.state.currentMusic.name?this.state.currentMusic.name:null),i.a.createElement("div",{className:"music_author"},this.state.currentMusic.artists?this.state.currentMusic.artists.map(function(e){return e.name}):null))),i.a.createElement("div",{className:"music_box"},i.a.createElement("div",{className:"music_lyrics"}),i.a.createElement("div",{className:"toolBtnList"},i.a.createElement("a",{href:"javascript:;",className:"iconfont fav",onClick:this.playLast},"\ue619"),i.a.createElement("a",{href:"javascript:;",className:"iconfont download",onClick:this.playLast},"\ue619"),i.a.createElement("a",{href:"javascript:;",className:"iconfont video",onClick:this.playLast},"\ue619"),i.a.createElement("a",{href:"javascript:;",className:"iconfont comments",onClick:this.playLast},"\ue619"),i.a.createElement("a",{href:"javascript:;",className:"iconfont pointList",onClick:this.playLast},"\ue619")),i.a.createElement("div",{className:"progress_wrapper",ref:"progress",onClick:this.clickChangeTime,onMouseDown:this.mouseDown,onMouseMove:this.progressChangeTime,onMouseUp:this.mouseUp,onMouseLeave:this.mouseLeave},i.a.createElement("div",{className:"m_currentTime"},this.state.currentTime),i.a.createElement("div",{className:"progress"},i.a.createElement("div",{className:"progress_buffered",ref:"buffered"}),i.a.createElement("div",{className:"progress_played",ref:"played"})),i.a.createElement("div",{className:"m_totalTime"},this.state.totalTime)),i.a.createElement("div",{className:"control"},i.a.createElement("a",{href:"javascript:;",className:"iconfont btnPrev",onClick:this.playLast},"\ue619"),this.state.isPlayed?i.a.createElement("a",{href:"javascript:;",className:"iconfont btnPlay",onClick:this.play},"\ue69d"):i.a.createElement("a",{href:"javascript:;",className:"iconfont btnPause",onClick:this.play},"\ue600"),i.a.createElement("a",{href:"javascript:;",className:"iconfont btnNext",onClick:this.playNext},"\ue61b"),i.a.createElement("a",{href:"javascript:;",className:"iconfont musicList",onClick:this.showMusicList},"\ue607"))),i.a.createElement("audio",{src:this.state.songUrl?this.state.songUrl:"",ref:"audio"}),i.a.createElement(Q.a,{transitionName:"music-list-show",component:"div",transitionEnterTimeout:500,transitionLeaveTimeout:300},i.a.createElement("div",{className:"drawer_mask"}),this.state.isMusicListShow&&this.props.recommendSongsList?i.a.createElement("div",{className:"drawerBox"},i.a.createElement("div",{className:"header"},i.a.createElement("div",{className:"lBtn"},i.a.createElement("i",{className:"iconfont btnType"},"\ue619"),i.a.createElement("span",null,"\u968f\u673a\u64ad\u653e(30)")),i.a.createElement("div",{className:"rBtn"},i.a.createElement("i",{className:"iconfont collect"},"\ue619"),i.a.createElement("span",null,"\u6536\u85cf\u5168\u90e8"),i.a.createElement("span",{className:"line"},"|"),i.a.createElement("i",{className:"iconfont delAll"},"\ue619"))),i.a.createElement("ul",{className:"music_list"},this.props.recommendSongsList.map(function(t,a){return i.a.createElement("li",{key:t.id,className:t.id===e.state.currentMusic.id?"playing":null,"data-key":a,onClick:e.musicDemand},i.a.createElement("i",{className:"music_playing iconfont"},"\ue619"),i.a.createElement("span",{className:"music_name"},t.name),i.a.createElement("span",{className:"line"},"-"),i.a.createElement("span",{className:"artists"},t.artists?t.artists.map(function(e){return e.name}):null),i.a.createElement("i",{className:"music_close iconfont",onClick:e.wipeOffCur},"\ue619"))})),i.a.createElement("div",{className:"closeBtn",onClick:this.closeDrawer},"\u5173\u95ed")):null))}}]),t}(s.Component)),X=Object(D.a)(Object(y.b)(function(e){return console.log("state",e),{recommendSongsList:e.reducer.recommendSongsList,recommendSongIndex:e.reducer.recommendSongIndex,audio:e.reducer.audio,played:e.reducer.played,buffered:e.reducer.buffered,playType:e.reducer.playType}},function(e){return{updateRecommendSongIndex:function(t){e(b(t))},getAudio:function(t){e(function(e){return{type:"Song_Audio",value:e}}(t))},updateRecommendSongList:function(t){e(v(t))},updatePlayNext:function(t){e(function(e){return{type:"Update_PlayNext",value:e}}(t))}}})(F)),V=(a(264),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={headerName:null},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){0===this.props.loginType?this.setState({headerName:"\u624b\u673a\u53f7\u767b\u5f55"}):this.setState({headerName:"\u90ae\u7bb1\u767b\u5f55"})}},{key:"render",value:function(){return i.a.createElement("div",{className:"header"},i.a.createElement(E.a,{to:"/login"},i.a.createElement("i",{className:"iconfont icon"},"\ue611")),i.a.createElement("div",{className:"header-name"},this.state.headerName))}}]),t}(s.Component)),W=Object(y.b)(function(e){return{loginType:e.loginType}},function(e){return{}})(V),q=(a(341),a(50)),J=(a(270),a(104)),K=(a(273),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).loginSubmit=function(e){e.preventDefault(),console.log("\u6b63\u5728\u767b\u9646"),a.props.form.validateFields(function(e,t){e?console.log("\u8f93\u5165\u7528\u6237\u540d\u6216\u5bc6\u7801\u6709\u8bef\uff01"):(console.log("Received values of form: ",t),a.props.rememberAccount(t))})},a.state={loginType:null},a.loginSubmit=a.loginSubmit.bind(Object(f.a)(Object(f.a)(a))),a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){0===this.props.loginType?this.setState({loginType:"\u624b\u673a\u53f7"}):this.setState({loginType:"\u90ae\u7bb1"})}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return i.a.createElement("div",{className:"inputBox"},i.a.createElement(q.a,{onSubmit:this.loginSubmit},i.a.createElement(q.a.Item,null,e("userName",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7\u6216\u90ae\u7bb1!"}]})(i.a.createElement("div",{className:"singleBox"},i.a.createElement("i",{className:"iconfont icon"},"\ue62e"),i.a.createElement(J.a,{className:"input_field",placeholder:this.state.loginType,allowClear:!0})))),i.a.createElement(q.a.Item,null,e("password",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801!"}]})(i.a.createElement("div",{className:"singleBox"},i.a.createElement("i",{className:"iconfont icon"},"\ue640"),i.a.createElement(J.a,{className:"input_field",placeholder:"\u5bc6\u7801",allowClear:!0})))),i.a.createElement(q.a.Item,null,i.a.createElement(E.a,{to:"/find"},i.a.createElement(g.a,{className:"loginOnAccount",htmlType:"submit"},"\u767b\u5f55")))))}}]),t}(s.Component));K=q.a.create()(K);var H=Object(y.b)(function(e){return{loginType:e.reducer.account.loginType}},function(e){return{rememberAccount:function(t){e(function(e){return{type:"Remember_Account",value:e}}(t))}}})(K),G=(a(336),function(e){function t(e){return Object(o.a)(this,t),Object(m.a)(this,Object(u.a)(t).call(this,e))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"loginDetails"},i.a.createElement("div",{className:"mainContent"},i.a.createElement(W,null),i.a.createElement(H,null)))}}]),t}(s.Component)),Z=Object(y.b)(null,function(e){return{}})(G),Y=(a(338),function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement(d.a,null,i.a.createElement("div",{className:"App"},i.a.createElement(h.a,{exact:!0,path:"/",component:N}),i.a.createElement(h.a,{path:"/login",component:N}),i.a.createElement(h.a,{path:"/loginDetails",component:Z}),i.a.createElement(h.a,{path:"/home",component:j}),i.a.createElement(h.a,{path:"/find",component:k}),i.a.createElement(h.a,{path:"/mrtj",component:C}),i.a.createElement(h.a,{path:"/singleMusic",component:x}),i.a.createElement(h.a,{path:"/player",component:X})))}}]),t}(s.Component)),$=a(143),ee=a(44),te={account:{loginType:null,isLogin:!1,userName:null,password:null},profile:{userId:null,nickname:null,avatarUrl:null,level:null},headerName:null,musicList:null,RecommendResourceList:null,recommendSongsList:null,recommendSongIndex:null,songUrl:null,playType:0,audio:null,played:null,buffered:null},ae=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"Login_Type":return e=ne(t),console.log("action",a),null!==a.value&&(e.account.loginType=a.value),e;case"Remember_Account":return e=ne(t),console.log("denglu"),null!==a.value&&(e.account.userName=a.value.userName,e.account.password=a.value.password,function(e,t,a){var n="";return n=0===e?A+"login/cellphone?phone=".concat(t,"&password=").concat(a):A+"login?email=".concat(t,"&password=").concat(a),R.a.get(n)}(e.account.loginType,e.account.userName,e.account.password).then(function(e){e.data;(function(){var e=A+"login/status";return R.a.get(e)})().then(function(e){var t=e.data;console.log("data",t),200===t.code?function(){var e=A+"login/status";return R.a.get(e)}().then(function(e){var t=e.data;console.log("data",t)}).catch(function(e){console.log("\u83b7\u53d6\u7528\u6237\u6b4c\u5355\u7b49\u4fe1\u606f\u5931\u8d25",e)}):console.log("data",t.code)}).catch(function(e){console.log("\u83b7\u53d6\u767b\u9646\u72b6\u6001\u5931\u8d25",e)})}).catch(function(e){console.log("\u767b\u5f55\u5931\u8d25\u4e86",e)})),e;case"Recommend_Resource":return e=ne(t),(R.a.defaults.baseURL=A,R.a.get("recommend/songs")).then(function(t){var n=t.data;e.headerName=a.value,e.recommendSongsList=n.recommend}).catch(function(e){console.log("\u83b7\u5f97\u6bcf\u65e5\u63a8\u8350\u6b4c\u66f2\u5931\u8d25",e)}),e;case"Update_Recomend":return e=ne(t),null!=a.value&&(e.recommendSongsList=a.value),e;case"Current_Music":return e=ne(t),null==a.value?void console.log("\u83b7\u53d6\u6bcf\u65e5\u63a8\u8350\u5217\u8868\u4e2d\u9009\u4e2d\u7684\u5f53\u524d\u97f3\u4e50\u5931\u8d25"):(e.recommendSongIndex=a.value,e);case"Song_Url":return e=ne(t),B(a.value).then(function(t){var a=t.data;e.songUrl=a.data[0].url}).catch(function(e){console.log("\u83b7\u53d6\u97f3\u4e50url\u5931\u8d25")}),e;case"Song_Audio":return e=ne(t),null!=a.value?(e.audio=a.value.audio,e.played=a.value.played,e.buffered=a.value.buffered):console.log("\u83b7\u53d6\u97f3\u4e50audio\u5931\u8d25"),e;case"Update_PlayNext":return e=ne(t),null!=a.value?e.playType=a.value:console.log("\u66f4\u65b0\u64ad\u653e\u6a21\u5f0f\u5931\u8d25"),e;default:return t}};function ne(e){return JSON.parse(JSON.stringify(e))}var se=a(141),ie=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ee.d,re=Object(ee.e)(Object(ee.c)(Object($.a)({},n)),ie(Object(ee.a)(se.a)));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(i.a.createElement(y.a,{store:re},i.a.createElement(Y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[145,2,1]]]);
//# sourceMappingURL=main.8dc15d71.chunk.js.map